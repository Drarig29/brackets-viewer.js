<html>

<head>
    <meta charset="utf-8">

    <link rel="stylesheet" href="../dist/brackets-viewer.min.css" />
    <script type="text/javascript" src="../dist/brackets-viewer.min.js"></script>

    <!-- You can choose a default theme or make you own. -->
    <link rel="stylesheet" href="themes/light.css" />

</head>

<body style="background: gray;">

    <!-- This div will be used as the root for the library. It must be **perfectly** empty to prevent a FOUC. -->
    <div id="example" class="brackets-viewer"></div>

    <script>
        (async function () {
            console.log(inMemoryDatabase);

            const example = {
                name: 'Example',
                tournamentId: 0,
                type: 'single_elimination',
                seeding: [
                    'Team 1', 'Team 2',
                    'Team 3', 'Team 4',
                    'Team 5', 'Team 6',
                    'Team 7', 'Team 8',
                    'Team 9', 'Team 10',
                    'Team 11', 'Team 12',
                    'Team 13', 'Team 14',
                    'Team 15', 'Team 16',
                ],
                settings: { seedOrdering: ['natural'] },
            };

            const data = await bracketsManager.create(example)
            .then(() => {
                // This is optional. You must do it before render().
                bracketsViewer.setParticipantImages(inMemoryDatabase.data.participant.map(participant => ({
                    participantId: participant.id,
                    imageUrl: 'https://github.githubassets.com/pinned-octocat.svg',
                })));

                bracketsViewer.onMatchClicked = match => console.log(match)

                bracketsViewer.render({
                    stages: inMemoryDatabase.data.stage,
                    matches: inMemoryDatabase.data.match,
                    matchGames: inMemoryDatabase.data.match_game,
                    participants: inMemoryDatabase.data.participant,
                }, {
                    selector: '#example',
                    participantOriginPlacement: 'before',
                    separatedChildCountLabel: true,
                    showSlotsOrigin: true,
                    showLowerBracketSlotsOrigin: true,
                    highlightParticipantOnHover: true,
                });
            });
        })();
    </script>
</body>

</html>
